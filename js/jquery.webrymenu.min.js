/*
 * jquery.webrymenu.js v1.0.1
 * https://github.com/webryone/jquery.webrymenu.js/
 * 
 * MIT licensed
 * Copyright (C) 2014 Kohei Katada, http://webryone.jp/jquery-plugin/webrymenu/, https://twitter.com/webryone
 */(function(e){e.fn.webryMenu=function(t){var n=this,r={enable3d:t.enable3d||!1,rotateX:t.rotateX||"0deg",rotateY:t.rotateY||"45deg",transformOrigin:t.transformOrigin||"left center",perspective:t.perspective||"3000px",duration:t.duration||500,delay:t.delay||0,easing:t.easing||"linear",windowBreakPoint:parseInt(t.windowBreakPoint,10)||769,width:t.width||"65%",position:t.position||"absolute",top:t.top||0,zIndex:t.zIndex||9999,overlayBgColor:t.overlayBgColor||"#000",overlayOpacity:t.overlayOpacity||.4,toggleElementId:t.toggleElementId||"#toggleWebryMenu",contentsWrapperId:t.contentsWrapperId||"#pageWrapper"},i="ontouchstart"in window?!0:!1,s=i?"touchstart":"click",o="onorientationchange"in window?"orientationchange":"resize",u=function(){var e=window.navigator.userAgent;return/chrome/i.test(e)?"Chrome":/safari/i.test(e)?"Safari":/firefox/i.test(e)?"Firefox":/opera/i.test(e)?"Opera":/getcko/i.test(e)?"Gecko":/msie/i.test(e)?"IE":/android/gi.test(window.navigator.appVersion)?"Android":/iphone|ipad/gi.test(window.navigator.appVersion)?"iOSdevice":/hp-tablet/gi.test(window.navigator.appVersion)?"touchPad":null},a=function(){switch(u()){case"Android":return"-webkit-";case"iOSdevice":return"-webkit-";case"touchPad":return"-webkit-";case"Chrome":return"-webkit-";case"Safari":return"-webkit-";case"Firefox":return"-moz-";case"Opera":return"-o-";case"IE":return"-ms-";case null:return""}},f=function(e){return e.replace(/-./g,function(e){return e.charAt(1).toUpperCase()})},l=function(e){var t=document.createElement("div");if(f(e)in t.style){t=null;return f(e)}t=null;return f(a()+e)},c=function(){var e=document.createElement("div");if(l("perspective")in e.style){e=null;return!0}e=null;return!1},h=!1,p,d=function(){if(e(this).width()<=r.windowBreakPoint){if(!h){var t=n.clone();n.css("display","none");p=t.prop("id")+"_WEBRYMENU";t.prop("id",p);e("body").append(t);e("#"+p).css({width:r.width,height:e(window).height()+"px","overflow-y":"scroll",position:r.position,top:r.top,"z-index":r.zIndex});i&&e("#"+p).css("-webkit-overflow-scrolling","touch");h=!0}e("#"+p).css({left:-e(this).width()+"px",height:e(window).height()+"px"});e("#"+r.contentsWrapperId.substr(1)+"_overlay").css({height:e(window).height()+"px"});g&&y()}else if(h){e("#"+p).remove();n.css("display","block");h=!1}},v=l("transition"),m=l("transform"),g=!1,y=function(){if(!g){e("body").css("overflow","hidden");var t=e("<div id='"+r.contentsWrapperId.substr(1)+"_overlay"+"' style='display: none;'>");e(r.contentsWrapperId).append(t);e("#"+r.contentsWrapperId.substr(1)+"_overlay").css({position:"absolute","z-index":r.zIndex,top:0,left:0,width:"100%",height:e(r.contentsWrapperId).height()<=e(window).height()?e(window).height()+"px":e(r.contentsWrapperId).height()+"px","background-color":r.overlayBgColor,opacity:r.overlayOpacity}).fadeIn(r.duration);var n=e(window).scrollTop();e("#"+r.contentsWrapperId.substr(1)+"_overlay").css("top",n+"px");e("#"+p).css("top",n+"px")}else{e("body").css("overflow","visible");e("#"+r.contentsWrapperId.substr(1)+"_overlay").fadeOut(r.duration,function(){e(this).remove()})}var o,u=g?"0px":e("#"+p).width()+"px";if(c()){if(r.enable3d){o=g?"translateX(0px) rotateX(0deg) rotateY(0deg)":"translateX("+u+") rotateX("+r.rotateX+") rotateY("+r.rotateY+")";e("body")[0].style[l("perspective")]=r.perspective;e(r.contentsWrapperId)[0].style[l("transform-style")]="preserve-3d";e(r.contentsWrapperId)[0].style[l("transform-origin")]=r.transformOrigin}else o="translateX("+u+")";e(r.contentsWrapperId)[0].style[m]=o;e(r.contentsWrapperId)[0].style[v]=a()+"transform"+" "+r.duration+"ms"+" "+r.delay+"ms"+" "+r.easing}else e(r.contentsWrapperId).animate({left:u},{duration:r.duration,delay:r.delay,easing:r.easing});var f=g?parseInt(e("#"+p).css("left"),10)+"px":-parseInt(e("#"+p).css("left"),10)+"px";if(c()){e("#"+p)[0].style[m]="translateX("+f+")";e("#"+p)[0].style[v]=a()+"transform"+" "+r.duration+"ms"+" "+r.delay+"ms"+" "+r.easing}else e("#"+p).animate({left:g?-e("#"+p).width()+"px":"0px"},{duration:r.duration,delay:r.delay,easing:r.easing});g=g?!1:!0;if(g){i&&e("#"+r.contentsWrapperId.substr(1)+"_overlay").one("touchmove.noScroll_overlay",function(e){e.preventDefault()});e("#"+r.contentsWrapperId.substr(1)+"_overlay").one(s,y)}};e(window).one("load",d);e(window).on(o,d);e(r.toggleElementId).on(s,y);return this}})(jQuery);